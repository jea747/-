<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë²Œê¸ˆ ê¸°ë¡ ì•±</title>
  <style>
    body {
      background-color: #e8f0fa;
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      text-align: center;
    }

    h1 {
      color: #103f75;
    }

    #leaderboard {
      margin: 20px auto;
      max-width: 600px;
      background-color: #ffffff;
      border: 2px solid #103f75;
      border-radius: 10px;
      padding: 15px;
      text-align: left;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
      max-width: 800px;
      margin: 20px auto;
    }

    .person {
      background-color: #ffffff;
      border: 2px solid #103f75;
      border-radius: 12px;
      padding: 10px;
      cursor: pointer;
      transition: 0.2s;
    }

    .person:hover {
      background-color: #d0e2ff;
    }

    .amount {
      margin-top: 5px;
      font-weight: bold;
      color: #103f75;
    }

    #total {
      margin-top: 30px;
      font-size: 20px;
      color: #1a3d6d;
      font-weight: bold;
    }

    .leaderboard-entry {
      margin: 4px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ‘® ë²Œê¸ˆ ê¸°ë¡ ì•±</h1>

  <div id="leaderboard">
    <h2>ğŸ“Š ë¦¬ë”ë³´ë“œ</h2>
    <div id="leaderboardList"></div>
  </div>

  <div class="grid" id="buttonsGrid"></div>
  <div id="total">ì´ ë²Œê¸ˆ: 0ì„œì°½</div>

  <script>
    const names = [
      "êµ¬ì§€ë¯¼", "ê¹€ë¯¼ì„±", "ê¹€ì„¸ì€", "ê¹€ì•„ìœ¤", "ê¹€ì§€ìš´",
      "ë¼ì…€", "ë°•ë¯¼ì¬", "ë°•ì„ ìœ¨", "ë°•ìˆ˜í˜„", "ë°•ì€ì„±", "ì•ˆì •ìš°",
      "ì–‘ì˜ˆì§„", "ìœ¤ìœ ì„±", "ì´ì„œì¤€", "ì´ì• ë¯¼", "ì´ìœ¤ì•„", "ì´í™”ë¦¼",
      "ì •ì¬í˜„", "ì •ì§€ìœ ", "ì§€ì€ì„œ", "ì§„ì„œìœ¤", "ì°¨ì‹œìœ¨"
    ];

    const fines = {};
    const grid = document.getElementById("buttonsGrid");
    const totalDisplay = document.getElementById("total");
    const leaderboardList = document.getElementById("leaderboardList");

    function updateTotal() {
      const total = Object.values(fines).reduce((sum, val) => sum + val, 0);
      totalDisplay.textContent = `ì´ ë²Œê¸ˆ: ${total}ì„œì°½`;
    }

    function updateLeaderboard() {
      leaderboardList.innerHTML = '';
      const sorted = Object.entries(fines)
        .sort((a, b) => b[1] - a[1]);

      sorted.forEach(([name, amount], index) => {
        const div = document.createElement("div");
        div.className = "leaderboard-entry";
        div.textContent = `${index + 1}. ${name} - ${amount}ì„œì°½`;
        leaderboardList.appendChild(div);
      });
    }

    names.forEach(name => {
      fines[name] = 0;

      const div = document.createElement("div");
      div.className = "person";
      div.innerHTML = `<div>${name}</div><div class="amount" id="amount-${name}">0ì„œì°½</div>`;
      div.onclick = () => {
        const action = prompt(`${name}ì—ê²Œ ì¶”ê°€í•˜ê±°ë‚˜ ì°¨ê°í•  ì„œì°½ ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: +3 ë˜ëŠ” -2)`);
        const value = parseInt(action);
        if (!isNaN(value)) {
          fines[name] += value;
          if (fines[name] < 0) fines[name] = 0;
          document.getElementById(`amount-${name}`).textContent = `${fines[name]}ì„œì°½`;
          updateTotal();
          updateLeaderboard();
        }
      };
      grid.appendChild(div);
    });

    updateLeaderboard();
  </script>
</body>
</html>
